<div class="container mt-4">
  <h2 class="mb-4">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

  <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
  <div *ngIf="success" class="alert alert-success rounded-3">{{ success }}</div>
  <div *ngIf="error" class="alert alert-danger rounded-3">{{ error }}</div>

  <form #form="ngForm" (ngSubmit)="updateReservation(form)" class="card shadow-sm rounded-4 p-4 bg-light">
    <!-- –õ–æ–∫–∞—Ü–∏—è -->
    <div class="mb-3">
      <label for="location" class="form-label fw-semibold">–õ–æ–∫–∞—Ü–∏—è</label>
      <input
        type="text"
        id="location"
        name="location"
        class="form-control rounded-3"
        required
        [(ngModel)]="reservation.location"
      />
    </div>

    <!-- –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ -->
    <div class="mb-3">
      <label for="start_time" class="form-label fw-semibold">–ù–∞—á–∞–ª–æ</label>
      <input
        type="datetime-local"
        id="start_time"
        name="start_time"
        class="form-control rounded-3"
        required
        [(ngModel)]="reservation.start_time"
      />
    </div>

    <!-- –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è -->
    <div class="mb-3">
      <label for="end_time" class="form-label fw-semibold">–û–∫–æ–Ω—á–∞–Ω–∏–µ</label>
      <input
        type="datetime-local"
        id="end_time"
        name="end_time"
        class="form-control rounded-3"
        required
        [(ngModel)]="reservation.end_time"
      />
    </div>

    <!-- –ó–∞–≤–µ—Ä—à–µ–Ω–æ? -->
    <div class="mb-3 form-check">
      <input
        type="checkbox"
        id="complete"
        name="complete"
        class="form-check-input"
        [(ngModel)]="reservation.complete"
      />
      <label for="complete" class="form-check-label fw-semibold">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</label>
    </div>

    <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
    <div class="mb-3">
      <label for="image" class="form-label fw-semibold">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
      <input
        type="file"
        id="image"
        name="image"
        class="form-control rounded-3"
        (change)="onFileSelected($event)"
        accept="image/*"
      />
    </div>

    <!-- –ü—Ä–µ–≤—å—é -->
    <div class="mb-3" *ngIf="previewUrl">
      <label class="form-label fw-semibold">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</label><br />
      <img
        [src]="previewUrl"
        alt="Preview"
        class="img-thumbnail"
        style="max-width: 200px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"
      />
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="d-flex gap-3">
      <button
        type="submit"
        class="btn btn-primary rounded-pill px-4"
        [disabled]="form.invalid"
      >
        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </button>
      <button
        type="button"
        class="btn btn-outline-secondary rounded-pill px-4"
        (click)="cancelUpdate()"
      >
        ‚Ü©Ô∏è –û—Ç–º–µ–Ω–∞
      </button>
    </div>
  </form>
</div>
