<!-- Page title -->
<h1 class="text-center mt-4 mb-3">üìã –ú–µ–Ω–µ–¥–∂–µ—Ä –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</h1>

<!-- User toolbar -->
<div class="welcome-bar text-end me-4">
  <span class="me-3 fw-bold">üëã –ü—Ä–∏–≤–µ—Ç, {{ userName }}!</span>
  <button class="btn btn-sm btn-danger" (click)="logout()">–í—ã–π—Ç–∏</button>
</div>

<!-- Alerts -->
<div class="container mt-3">
  <div *ngIf="success" class="alert alert-success rounded-3">{{ success }}</div>
  <div *ngIf="error" class="alert alert-danger rounded-3">{{ error }}</div>
</div>

<!-- Reservation list -->
<div id="theList" class="container mt-3">
  <div class="card shadow-sm">
    <div class="card-body">
      <h2 class="card-title text-center">–°–ø–∏—Å–æ–∫ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</h2>

      <!-- Header row -->
      <div class="row font-weight-bold text-center border-bottom pb-2" style="background-color: #f8f9fa;">
        <div class="col-2">–ú–µ—Å—Ç–æ</div>
        <div class="col-2">–ù–∞—á–∞–ª–æ</div>
        <div class="col-2">–ö–æ–Ω–µ—Ü</div>
        <div class="col-2">–°—Ç–∞—Ç—É—Å</div>
        <div class="col-2">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
        <div class="col-2">–î–µ–π—Å—Ç–≤–∏—è</div>
      </div>

      <!-- Data rows -->
      <div *ngFor="let item of reservations" class="row align-items-center py-2 border-bottom text-center">
        <div class="col-2">{{ item.location }}</div>
        <div class="col-2">{{ item.start_time | date: 'dd.MM.yyyy, HH:mm' }}</div>
        <div class="col-2">{{ item.end_time | date: 'dd.MM.yyyy, HH:mm' }}</div>
        <div class="col-2">
          <span [ngClass]="{ 'text-success': item.complete, 'text-warning': !item.complete }">
            {{ item.complete ? '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '‚è≥ –í –æ–∂–∏–¥–∞–Ω–∏–∏' }}
          </span>
        </div>
        <div class="col-2" *ngIf="item.imageName">
          <img
            [src]="'http://localhost/angularapp2/bookingapi/uploads/' + item.imageName"
            width="50"
            height="50"
            class="img-thumbnail"
            [alt]="item.imageName" />
        </div>
        <div class="col-2">
          <a [routerLink]="['/edit', item.ID]" class="btn btn-success btn-sm me-2">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
          <button class="btn btn-danger btn-sm" (click)="deleteReservation(item.ID)">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>

      <div *ngIf="reservations.length === 0" class="text-muted text-center mt-4">
        –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.
      </div>
    </div>
  </div>
</div>

<!-- Navigation buttons -->
<div class="container mt-4 d-flex gap-3">
  <button class="btn btn-primary" routerLink="/add">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
  <button class="btn btn-secondary" routerLink="/about">üìÑ –û –Ω–∞—Å</button>
</div>
