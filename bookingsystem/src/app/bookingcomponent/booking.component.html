<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">üìã –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
    <div>
      <span class="me-3 fw-bold">üëã –ü—Ä–∏–≤–µ—Ç, {{ userName }}!</span>
      <button class="btn btn-outline-danger btn-sm" (click)="logout()">–í—ã–π—Ç–∏</button>
    </div>
  </div>

  <div *ngIf="success" class="alert alert-success rounded-3">{{ success }}</div>
  <div *ngIf="error" class="alert alert-danger rounded-3">{{ error }}</div>

  <div class="card shadow-sm rounded-4">
    <div class="card-body">
      <h4 class="mb-4">üìÖ –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h4>

      <div *ngIf="reservations && reservations.length > 0; else noBookings">

        <div *ngFor="let item of reservations" class="py-3 border-bottom d-flex flex-wrap align-items-center justify-content-between gap-3">
          <div class="fw-bold col-md-3">{{ item.location }}</div>
          <div class="text-muted col-md-2">{{ item.start_time | date: 'dd.MM.yyyy, HH:mm' }}</div>
          <div class="text-muted col-md-2">{{ item.end_time | date: 'dd.MM.yyyy, HH:mm' }}</div>
          <div class="col-md-2">
            <span [ngClass]="item.complete ? 'text-success' : 'text-warning'">
              {{ item.complete ? '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '‚è≥ –í –æ–∂–∏–¥–∞–Ω–∏–∏' }}
            </span>
          </div>
          <div class="col-md-2" *ngIf="item.imageName">
            <img
              [src]="'http://localhost/angularapp2/bookingapi/uploads/' + item.imageName"
              class="img-thumbnail rounded-3"
              style="width: 95px; height: 95px; object-fit: cover"
              alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" />
          </div>
          <div class="col-2 d-flex gap-2">
            <button class="btn btn-success btn-sm" [routerLink]="['/edit', item.ID]">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="btn btn-danger btn-sm" (click)="deleteReservation(item.ID)">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </div>
      </div>

      <ng-template #noBookings>
        <p class="text-muted">–ù–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç.</p>
      </ng-template>
    </div>
  </div>

  <div class="mt-4 d-flex gap-3">
    <button class="btn btn-primary" routerLink="/add">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
    <button class="btn btn-secondary" routerLink="/about">üìÑ –û –Ω–∞—Å</button>
  </div>
</div>
